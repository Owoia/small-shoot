namespace SpriteKind {
    export const minplay = SpriteKind.create()
    export const nothing = SpriteKind.create()
}
controller.combos.attachCombo("b a b b b a", function () {
    sprites.destroyAllSpritesOfKind(SpriteKind.Enemy, effects.spray, 100)
    scene.cameraShake(8, 200)
    music.play(music.createSoundEffect(WaveShape.Noise, 1293, 1, 255, 0, 100, SoundExpressionEffect.None, InterpolationCurve.Linear), music.PlaybackMode.InBackground)
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (start == 0) {
        story.showPlayerChoices("Normal", "Hard", "")
        if (story.checkLastAnswer("Normal")) {
            mySprite2 = sprites.create(assets.image`myImage`, SpriteKind.nothing)
            mySprite2.y = 57
            mySprite3 = sprites.create(assets.image`myImage0`, SpriteKind.minplay)
            controller.moveSprite(mySprite3, 50, 50)
            tiles.setCurrentTilemap(tilemap`level2`)
            statusbar = statusbars.create(20, 4, StatusBarKind.Health)
            statusbar.setBarBorder(1, 15)
            statusbar.positionDirection(CollisionDirection.Top)
            statusbar.setColor(1, 15, 12)
            start = 1
        }
        if (story.checkLastAnswer("Extra")) {
            scene.setBackgroundImage(img`
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                `)
            start = 2
            mySprite = sprites.create(assets.image`myImage3`, SpriteKind.Player)
            controller.moveSprite(mySprite, 50, 50)
            tiles.setCurrentTilemap(tilemap`level3`)
        }
        if (story.checkLastAnswer("Hard")) {
            mySprite2 = sprites.create(assets.image`myImage`, SpriteKind.nothing)
            mySprite2.y = 57
            mySprite3 = sprites.create(assets.image`myImage0`, SpriteKind.minplay)
            controller.moveSprite(mySprite3, 50, 50)
            tiles.setCurrentTilemap(tilemap`level2`)
            statusbar = statusbars.create(20, 4, StatusBarKind.Health)
            statusbar.setBarBorder(1, 15)
            statusbar.positionDirection(CollisionDirection.Top)
            statusbar.setColor(1, 15, 12)
            start = 1
        }
    }
    if (start == 1) {
        music.play(music.createSoundEffect(WaveShape.Noise, 1, 4419, 208, 0, 100, SoundExpressionEffect.None, InterpolationCurve.Curve), music.PlaybackMode.InBackground)
        animation.runImageAnimation(
        mySprite3,
        assets.animation`myAnim`,
        100,
        false
        )
        projectile = sprites.createProjectileFromSprite(img`
            1 1 1 
            1 5 1 
            1 1 1 
            `, mySprite3, 25, 0)
    }
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile9`, function (sprite, location) {
    info.changeScoreBy(1)
})
sprites.onOverlap(SpriteKind.Enemy, SpriteKind.Projectile, function (sprite, otherSprite) {
    sprites.destroy(sprite, effects.spray, 100)
    sprites.destroy(otherSprite, effects.none, 1)
    scene.cameraShake(1.5, 100)
    info.changeScoreBy(1)
    music.play(music.createSoundEffect(WaveShape.Noise, 2921, 1, 255, 0, 100, SoundExpressionEffect.Vibrato, InterpolationCurve.Linear), music.PlaybackMode.InBackground)
})
statusbars.onZero(StatusBarKind.Health, function (status) {
    game.gameOver(false)
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile8`, function (sprite, location) {
    game.reset()
})
sprites.onOverlap(SpriteKind.minplay, SpriteKind.Enemy, function (sprite, otherSprite) {
    sprites.destroy(otherSprite, effects.spray, 100)
    scene.cameraShake(2, 100)
    statusbar.value += -10
    music.play(music.createSoundEffect(WaveShape.Noise, 1293, 1, 255, 0, 100, SoundExpressionEffect.None, InterpolationCurve.Linear), music.PlaybackMode.InBackground)
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile10`, function (sprite, location) {
    scaling.scaleByPixels(mySprite, 0.1, ScaleDirection.Uniformly, ScaleAnchor.Middle)
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile11`, function (sprite, location) {
    scaling.scaleByPixels(mySprite, -0.1, ScaleDirection.Uniformly, ScaleAnchor.Middle)
})
let projectile: Sprite = null
let mySprite: Sprite = null
let statusbar: StatusBarSprite = null
let mySprite3: Sprite = null
let mySprite2: Sprite = null
let start = 0
start = 0
scene.setBackgroundImage(img`
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    .......................................................................111........1..1..1.......................................................................
    ......................................................................1.....1.1..1.1.1..1.......................................................................
    .......................................................................111.1.1.1.111.1..1.......................................................................
    .........................................................................1.1...1.1.1.1..1.......................................................................
    ......................................................................111.1.....11.1.111111.....................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ..............................................................................66666.............................................................................
    .............................................................................6771776............................................................................
    .............................................................................6717176............................................................................
    .............................................................................6711176............................................................................
    .............................................................................6717176............................................................................
    ..............................................................................66666.............................................................................
    ................................................................................................................................................................
    .......................................................................111.1.1..................................................................................
    ......................................................................1....1.1.111.111.111......................................................................
    .......................................................................111.111.1.1.1.1..1.......................................................................
    .........................................................................1.1.1.111.111..1.......................................................................
    ......................................................................111..1.1..........1.......................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    `)
let Wave = 0
game.onUpdateInterval(500, function () {
    if (story.checkLastAnswer("Normal")) {
        if (start == 0) {
        	
        }
        if (start == 1) {
            mySprite = sprites.create(assets.image`myImage2`, SpriteKind.Enemy)
            mySprite.setPosition(112, randint(41, 67))
            mySprite.follow(mySprite3, 10)
        }
    }
})
game.onUpdateInterval(100, function () {
    if (story.checkLastAnswer("Normal")) {
    	
    }
    if (story.checkLastAnswer("Hard")) {
    	
    }
    if (story.checkLastAnswer("Difficult")) {
        if (start == 0) {
        	
        }
        if (start == 1) {
            mySprite = sprites.create(assets.image`myImage3`, SpriteKind.Enemy)
            mySprite.setPosition(112, randint(41, 67))
            mySprite.follow(mySprite3, 10)
        }
    }
})
game.onUpdateInterval(200, function () {
    if (story.checkLastAnswer("Hard")) {
        if (start == 0) {
        	
        }
        if (start == 1) {
            mySprite = sprites.create(assets.image`myImage2`, SpriteKind.Enemy)
            mySprite.setPosition(112, randint(41, 67))
            mySprite.follow(mySprite3, 10)
        }
    }
})
